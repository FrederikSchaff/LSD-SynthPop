<HTML>
<HEAD> <META NAME="Author" CONTENT="Automatically generated by LSD - Laboratory for Simulation Development, copyright by Marco Valente">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">  <style> table {border-collapse: collapse} td, th {border: 1px solid #dddddd; padding: 8px;} tr:nth-child(even) {background-color: #dddddd;} </style> </HEAD> <BODY><TITLE>LSD Report - Model: "Sim1"</TITLE><I>Automatically generated LSD report.</I><BR><A NAME="_TOP_"><H1>Model: <I><U>Sim1</U></I></H1></A><A NAME="_DESCRIPTION_"><H2>Description</H2></A>Population Dynamics Template Model<br>
<br>
This is an explicit use case of the lsd population module you may access here:<br>
https://github.com/FrederikSchaff/lsd-module-pop<br>
<br>
it works with LSD-GIS, which you can get here:<br>
https://github.com/marcov64/Lsd/tree/GIS-beta<br>
<br>
Objective: This is a template model, to be used as a starting point for LSD<br>
models where an explicit population model is wanted that includes a heritage<br>
network that survives the agents and allows, for example, to check family<br>
degrees.<br>
<br>
The model allows to add statistical population models. Currently one<br>
model is added, called "BLL", following:<br>
<br>
  [1] Boucekkine, Raouf; La Croix, David de; Licandro, Omar (2002):<br>
  Vintage Human Capital, Demographic Trends, and Endogenous Growth.<br>
  In Journal of Economic Theory 104 (2), pp. 340–375.<br>
  DOI: 10.1006/jeth.2001.2854.<br>
  <br>
In addition, the Wedding Ring model is implemented explicitly to define partner search:<br>
<br>
  [2] Billari, Francesco; Aparicio Diaz, Belinda; Fent, Thomas; Fürnkranz-Prskawetz, <br>
  Alexia (2007): The "Wedding-Ring". An agent-based marriage model based on <br>
  social interaction. In Demographic Research 17 (3), pp. 59–82. <br>
  DOI: 10.4054/DemRes.2007.17.3.<br>
  <br>
  and<br>
  <br>
  [3] Bijak, Jakub; Hilton, Jason; Silverman, Eric; Cao, Viet Dung (2013): Reforging the Wedding<br>
  Ring. Exploring a Semi-Artificial Model of Population for the United Kingdom with Gaussian<br>
  process emulators. In Demographic Research 29, pp. 729–766.<br>
  DOI: 10.4054/DemRes.2013.29.27.<br>
  <br>
  <br>
  Model def: <br>
f_min_w<br>
f_max_w<br>
f_min_f<br>
f_max_f<br>
<br>
default model: Randomly select f.<br>
If matched, select prior m partner. Else select random m and match.<br>
<br>
For information on how the back-end works, please take a look at the (yet<br>
scarce, I admit) documentation of the population module and the accompanying paper.<br>
<br>
(PRESS CTRL+E TO EDIT USER EQUATIONS)<br>
<br>
<BR><BR><HR WIDTH="100%">
<A NAME="_MODEL_STRUCTURE_"><H2>Model Structure</H2></A>
<H3>Object tree</H3>
<TT><A HREF="#Root">Root</A></TT><TT>&mdash;&gt;</TT><TT><A HREF="#Pop_Model">Pop_Model</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>|</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&mdash;&gt;</TT><TT><A HREF="#Agent">Agent</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>|</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&mdash;&gt;</TT><TT><A HREF="#Settings">Settings</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<H3>Variables</H3>
<form name="form_v_all_Root_" method="POST">
<select name="entry" class="form">
<option value="#age">age</option>
<option value="#age_accept_high">age_accept_high</option>
<option value="#age_accept_low">age_accept_low</option>
<option value="#age_influence">age_influence</option>
<option value="#Death">Death</option>
<option value="#Delete_Agent">Delete_Agent</option>
<option value="#female">female</option>
<option value="#Init_Agent">Init_Agent</option>
<option value="#Init_Global">Init_Global</option>
<option value="#Partner_Status">Partner_Status</option>
<option value="#Pop_age">Pop_age</option>
<option value="#Pop_birth">Pop_birth</option>
<option value="#Potential_Partner">Potential_Partner</option>
<option value="#psearch_radius">psearch_radius</option>
<option value="#Relevant_Other">Relevant_Other</option>
<option value="#Social_Pressure">Social_Pressure</option>
<option value="#Updating_Scheme">Updating_Scheme</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_v_all_Root_.entry.options[document.form_v_all_Root_.entry.selectedIndex].value">
</form><H3>Parameters</H3>
<form name="form_p_all_Root_" method="POST">
<select name="entry" class="form">
<option value="#alpha_WR">alpha_WR</option>
<option value="#beta_WR">beta_WR</option>
<option value="#c_WR">c_WR</option>
<option value="#death_age">death_age</option>
<option value="#distance_wd">distance_wd</option>
<option value="#father">father</option>
<option value="#fertility_f_high">fertility_f_high</option>
<option value="#fertility_f_low">fertility_f_low</option>
<option value="#fertility_high">fertility_high</option>
<option value="#fertility_low">fertility_low</option>
<option value="#fertility_m_high">fertility_m_high</option>
<option value="#fertility_m_low">fertility_m_low</option>
<option value="#ID">ID</option>
<option value="#m0_maxLife">m0_maxLife</option>
<option value="#m1_alpha">m1_alpha</option>
<option value="#m1_beta">m1_beta</option>
<option value="#Model_Type">Model_Type</option>
<option value="#mother">mother</option>
<option value="#PartnerID">PartnerID</option>
<option value="#Pop_const_n">Pop_const_n</option>
<option value="#rho_WD">rho_WD</option>
<option value="#ro_a_high">ro_a_high</option>
<option value="#ro_a_low">ro_a_low</option>
<option value="#SA_">SA_</option>
<option value="#WD_alt_model">WD_alt_model</option>
<option value="#wr_gamma">wr_gamma</option>
<option value="#wr_hintvl">wr_hintvl</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_all_Root_.entry.options[document.form_p_all_Root_.entry.selectedIndex].value">
</form><HR WIDTH="100%">
<H3><A NAME="Root">Object: &nbsp;<TT><U>Root</U></TT></A></H3><i>Containing: &nbsp;</i><TT><a HREF="#Pop_Model">Pop_Model</a></TT><TT>,  <a HREF="#Agent">Agent</a></TT><TT>,  <a HREF="#Settings">Settings</a></TT><BR>
<BR>
<i>Variables: &nbsp;</i><form name="form_v_Root_" method="POST">
<select name="entry" class="form">
<option value="#Delete_Agent">Delete_Agent</option>
<option value="#Init_Global">Init_Global</option>
<option value="#Updating_Scheme">Updating_Scheme</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_v_Root_.entry.options[document.form_v_Root_.entry.selectedIndex].value">
</form><i>Parameters: &nbsp;</i><form name="form_p_Root_" method="POST">
<select name="entry" class="form">
<option value="#SA_">SA_</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_Root_.entry.options[document.form_p_Root_.entry.selectedIndex].value">
</form><BR>
<table BORDER><tr><td><center><i>Element</i></center></td><td><center><i>Lags</i></center></td>
<td><center><i>Description and initial values comments</i></center></td>
</tr><tr VALIGN=TOP><td><a NAME="Updating_Scheme"><A HREF="#_d_Updating_Scheme"><TT>Updating_Scheme</TT></A></a></td>
<td></td>
<td>   Controls the flow of events at any single simulation tick. This should always<br>
    be the first equation called in any model! <br>
'Updating_Scheme' appears in the equation for: (never used)</td></tr>
<tr VALIGN=TOP><td><a NAME="SA_"><A HREF="#_d_SA_"><TT>SA_</TT></A></a></td>
<td><A HREF="#_i_SA_">Par.</A></td>
<td> A parameter to allow SA (no meaning for the theory)<br>
</td></tr>
<tr VALIGN=TOP><td><a NAME="Delete_Agent"><A HREF="#_d_Delete_Agent"><TT>Delete_Agent</TT></A></a></td>
<td></td>
<td> <br>
'Delete_Agent' appears in the equation for: (never used)</td></tr>
<tr VALIGN=TOP><td><a NAME="Init_Global"><A HREF="#_d_Init_Global"><TT>Init_Global</TT></A></a></td>
<td></td>
<td>   This it the main initialisation function, calling all initialisation action<br>
    necessary. <br>
'Init_Global' appears in the equation for: Updating_Scheme</td></tr>
</table><br>
<HR WIDTH="100%">
<H3><A NAME="Pop_Model">Object: &nbsp;<TT><U>Pop_Model</U></TT></A></H3><i>Contained in: &nbsp;</i><TT><A HREF="#Root">Root</A></TT><BR>
<BR>
<i>Variables: &nbsp;</i><form name="form_v_Pop_Model_" method="POST">
<select name="entry" class="form">
<option value="#Pop_age">Pop_age</option>
<option value="#Pop_birth">Pop_birth</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_v_Pop_Model_.entry.options[document.form_v_Pop_Model_.entry.selectedIndex].value">
</form><i>Parameters: &nbsp;</i><form name="form_p_Pop_Model_" method="POST">
<select name="entry" class="form">
<option value="#m0_maxLife">m0_maxLife</option>
<option value="#m1_alpha">m1_alpha</option>
<option value="#m1_beta">m1_beta</option>
<option value="#Model_Type">Model_Type</option>
<option value="#Pop_const_n">Pop_const_n</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_Pop_Model_.entry.options[document.form_p_Pop_Model_.entry.selectedIndex].value">
</form><BR>
<table BORDER><tr><td><center><i>Element</i></center></td><td><center><i>Lags</i></center></td>
<td><center><i>Description and initial values comments</i></center></td>
</tr><tr VALIGN=TOP><td><a NAME="Pop_age"><A HREF="#_d_Pop_age"><TT>Pop_age</TT></A></a></td>
<td></td>
<td>  Each agents get older one year. <br>
'Pop_age' appears in the equation for: Updating_Scheme</td></tr>
<tr VALIGN=TOP><td><a NAME="Pop_birth"><A HREF="#_d_Pop_birth"><TT>Pop_birth</TT></A></a></td>
<td></td>
<td>  Add next generation.<br>
'Pop_birth' appears in the equation for: Updating_Scheme, Init_Global</td></tr>
<tr VALIGN=TOP><td><a NAME="m1_alpha"><A HREF="#_d_m1_alpha"><TT>m1_alpha</TT></A></a></td>
<td><A HREF="#_i_m1_alpha">Par.</A></td>
<td> </td></tr>
<tr VALIGN=TOP><td><a NAME="m1_beta"><A HREF="#_d_m1_beta"><TT>m1_beta</TT></A></a></td>
<td><A HREF="#_i_m1_beta">Par.</A></td>
<td> </td></tr>
<tr VALIGN=TOP><td><a NAME="Pop_const_n"><A HREF="#_d_Pop_const_n"><TT>Pop_const_n</TT></A></a></td>
<td><A HREF="#_i_Pop_const_n">Par.</A></td>
<td> If == 0, the population model will not generate new agents.<br>
<br>
If &gt; 0, the population model will generate Pop_const_n * birth_rate agents (if birth_rate is a variable, the birth rate is constant and equal to 1/exp_life * Pop_const_n)<br>
<br>
If &lt; 0, new generation is birth_rate * current n agents alive.<br>
</td></tr>
<tr VALIGN=TOP><td><a NAME="Model_Type"><A HREF="#_d_Model_Type"><TT>Model_Type</TT></A></a></td>
<td><A HREF="#_i_Model_Type">Par.</A></td>
<td> Choice of population model.<br>
Model 0: NONE<br>
Model 1: BLL<br>
</td></tr>
<tr VALIGN=TOP><td><a NAME="m0_maxLife"><A HREF="#_d_m0_maxLife"><TT>m0_maxLife</TT></A></a></td>
<td><A HREF="#_i_m0_maxLife">Par.</A></td>
<td> </td></tr>
</table><br>
<HR WIDTH="100%">
<H3><A NAME="Agent">Object: &nbsp;<TT><U>Agent</U></TT></A></H3><i>Contained in: &nbsp;</i><TT><A HREF="#Root">Root</A></TT><BR>
<BR>
<i>Variables: &nbsp;</i><form name="form_v_Agent_" method="POST">
<select name="entry" class="form">
<option value="#age">age</option>
<option value="#age_accept_high">age_accept_high</option>
<option value="#age_accept_low">age_accept_low</option>
<option value="#age_influence">age_influence</option>
<option value="#Death">Death</option>
<option value="#female">female</option>
<option value="#Init_Agent">Init_Agent</option>
<option value="#Partner_Status">Partner_Status</option>
<option value="#Potential_Partner">Potential_Partner</option>
<option value="#psearch_radius">psearch_radius</option>
<option value="#Relevant_Other">Relevant_Other</option>
<option value="#Social_Pressure">Social_Pressure</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_v_Agent_.entry.options[document.form_v_Agent_.entry.selectedIndex].value">
</form><i>Parameters: &nbsp;</i><form name="form_p_Agent_" method="POST">
<select name="entry" class="form">
<option value="#death_age">death_age</option>
<option value="#father">father</option>
<option value="#ID">ID</option>
<option value="#mother">mother</option>
<option value="#PartnerID">PartnerID</option>
<option value="#ro_a_high">ro_a_high</option>
<option value="#ro_a_low">ro_a_low</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_Agent_.entry.options[document.form_p_Agent_.entry.selectedIndex].value">
</form><BR>
<table BORDER><tr><td><center><i>Element</i></center></td><td><center><i>Lags</i></center></td>
<td><center><i>Description and initial values comments</i></center></td>
</tr><tr VALIGN=TOP><td><a NAME="ID"><A HREF="#_d_ID"><TT>ID</TT></A></a></td>
<td><A HREF="#_i_ID">Par.</A></td>
<td> </td></tr>
<tr VALIGN=TOP><td><a NAME="age"><A HREF="#_d_age"><TT>age</TT></A></a></td>
<td></td>
<td> TRACK_SEQUENCE<br>
<br>
'age' appears in the equation for: (never used)</td></tr>
<tr VALIGN=TOP><td><a NAME="female"><A HREF="#_d_female"><TT>female</TT></A></a></td>
<td></td>
<td> TRACK_SEQUENCE<br>
<br>
'female' appears in the equation for: Updating_Scheme</td></tr>
<tr VALIGN=TOP><td><a NAME="death_age"><A HREF="#_d_death_age"><TT>death_age</TT></A></a></td>
<td><A HREF="#_i_death_age">Par.</A></td>
<td> </td></tr>
<tr VALIGN=TOP><td><a NAME="father"><A HREF="#_d_father"><TT>father</TT></A></a></td>
<td><A HREF="#_i_father">Par.</A></td>
<td> Holds the ID of the father<br>
</td></tr>
<tr VALIGN=TOP><td><a NAME="mother"><A HREF="#_d_mother"><TT>mother</TT></A></a></td>
<td><A HREF="#_i_mother">Par.</A></td>
<td> Holds the ID of the mother<br>
</td></tr>
<tr VALIGN=TOP><td><a NAME="Death"><A HREF="#_d_Death"><TT>Death</TT></A></a></td>
<td></td>
<td>  Kill the agent <br>
'Death' appears in the equation for: Pop_age</td></tr>
<tr VALIGN=TOP><td><a NAME="Init_Agent"><A HREF="#_d_Init_Agent"><TT>Init_Agent</TT></A></a></td>
<td></td>
<td>   Initialise a new agent<br>
    - define agent characteristics<br>
<br>
'Init_Agent' appears in the equation for: Pop_birth</td></tr>
<tr VALIGN=TOP><td><a NAME="Relevant_Other"><A HREF="#_d_Relevant_Other"><TT>Relevant_Other</TT></A></a></td>
<td></td>
<td>   This is a FUNCTION that reports to the caller if the callee (the agent which holds the function) is a relevant other.<br>
<br>
    A person is relevant to the other person, if it is (a) within physical distance, emulating the social distance and (b) within age distance.<br>
    We may disable the check for (a) if we search within the relevant distance ex ante.<br>
<br>
<br>
'Relevant_Other' appears in the equation for: (never used)</td></tr>
<tr VALIGN=TOP><td><a NAME="psearch_radius"><A HREF="#_d_psearch_radius"><TT>psearch_radius</TT></A></a></td>
<td></td>
<td>   This is the search radius for the partner search in the Wedding Ring model.<br>
    It is set in 0,1 (relative)<br>
<br>
'psearch_radius' appears in the equation for: Potential_Partner</td></tr>
<tr VALIGN=TOP><td><a NAME="age_accept_low"><A HREF="#_d_age_accept_low"><TT>age_accept_low</TT></A></a></td>
<td></td>
<td>  Calculate the lower bound of acceptable age <br>
'age_accept_low' appears in the equation for: Potential_Partner</td></tr>
<tr VALIGN=TOP><td><a NAME="age_accept_high"><A HREF="#_d_age_accept_high"><TT>age_accept_high</TT></A></a></td>
<td></td>
<td>  Calculate the lower bound of acceptable age <br>
'age_accept_high' appears in the equation for: Potential_Partner</td></tr>
<tr VALIGN=TOP><td><a NAME="age_influence"><A HREF="#_d_age_influence"><TT>age_influence</TT></A></a></td>
<td></td>
<td>   A factor that decides on the size of the socio-spatial network based on the age of the person. <br>
'age_influence' appears in the equation for: psearch_radius, age_accept_low, age_accept_high</td></tr>
<tr VALIGN=TOP><td><a NAME="Social_Pressure"><A HREF="#_d_Social_Pressure"><TT>Social_Pressure</TT></A></a></td>
<td></td>
<td>   This is the social presure that rests upon the individual to get a partner and start getting (more) children<br>
    At this point, the parameters alpha and beta are hard coded as in the papers [2,3], because the parameters it self are not useful to interpret.<br>
<br>
'Social_Pressure' appears in the equation for: psearch_radius, age_accept_low, age_accept_high</td></tr>
<tr VALIGN=TOP><td><a NAME="Partner_Status"><A HREF="#_d_Partner_Status"><TT>Partner_Status</TT></A></a></td>
<td></td>
<td>  Is there currently a partner? 0: No, 1: Yes. Also check if partner is dead. <br>
'Partner_Status' appears in the equation for: Social_Pressure</td></tr>
<tr VALIGN=TOP><td><a NAME="Potential_Partner"><A HREF="#_d_Potential_Partner"><TT>Potential_Partner</TT></A></a></td>
<td></td>
<td>  This is a function that reports to the caller if the callee is a suitable match, which implies also that the callee finds the caller suitable. <br>
'Potential_Partner' appears in the equation for: (never used)</td></tr>
<tr VALIGN=TOP><td><a NAME="PartnerID"><A HREF="#_d_PartnerID"><TT>PartnerID</TT></A></a></td>
<td><A HREF="#_i_PartnerID">Par.</A></td>
<td> All 1 instances equal to 0.</td></tr>
<tr VALIGN=TOP><td><a NAME="ro_a_high"><A HREF="#_d_ro_a_high"><TT>ro_a_high</TT></A></a></td>
<td><A HREF="#_i_ro_a_high">Par.</A></td>
<td> All 1 instances equal to 0.</td></tr>
<tr VALIGN=TOP><td><a NAME="ro_a_low"><A HREF="#_d_ro_a_low"><TT>ro_a_low</TT></A></a></td>
<td><A HREF="#_i_ro_a_low">Par.</A></td>
<td> All 1 instances equal to 0.</td></tr>
</table><br>
<HR WIDTH="100%">
<H3><A NAME="Settings">Object: &nbsp;<TT><U>Settings</U></TT></A></H3><i>Contained in: &nbsp;</i><TT><A HREF="#Root">Root</A></TT><BR>
<BR>
<i>Variables: &nbsp;</i>(none)<BR>
<i>Parameters: &nbsp;</i><form name="form_p_Settings_" method="POST">
<select name="entry" class="form">
<option value="#alpha_WR">alpha_WR</option>
<option value="#beta_WR">beta_WR</option>
<option value="#c_WR">c_WR</option>
<option value="#distance_wd">distance_wd</option>
<option value="#fertility_f_high">fertility_f_high</option>
<option value="#fertility_f_low">fertility_f_low</option>
<option value="#fertility_high">fertility_high</option>
<option value="#fertility_low">fertility_low</option>
<option value="#fertility_m_high">fertility_m_high</option>
<option value="#fertility_m_low">fertility_m_low</option>
<option value="#rho_WD">rho_WD</option>
<option value="#WD_alt_model">WD_alt_model</option>
<option value="#wr_gamma">wr_gamma</option>
<option value="#wr_hintvl">wr_hintvl</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_Settings_.entry.options[document.form_p_Settings_.entry.selectedIndex].value">
</form><i>Description:</i><BR>
Parameters relevant for the Wedding Ring model.<BR>
<BR>
<table BORDER><tr><td><center><i>Element</i></center></td><td><center><i>Lags</i></center></td>
<td><center><i>Description and initial values comments</i></center></td>
</tr><tr VALIGN=TOP><td><a NAME="fertility_low"><A HREF="#_d_fertility_low"><TT>fertility_low</TT></A></a></td>
<td><A HREF="#_i_fertility_low">Par.</A></td>
<td> minimum age for a mother to get a child<br>
</td></tr>
<tr VALIGN=TOP><td><a NAME="fertility_high"><A HREF="#_d_fertility_high"><TT>fertility_high</TT></A></a></td>
<td><A HREF="#_i_fertility_high">Par.</A></td>
<td> Maximum age for a mother to get a child<br>
</td></tr>
<tr VALIGN=TOP><td><a NAME="wr_gamma"><A HREF="#_d_wr_gamma"><TT>wr_gamma</TT></A></a></td>
<td><A HREF="#_i_wr_gamma">Par.</A></td>
<td> All 1 instances equal to 2.</td></tr>
<tr VALIGN=TOP><td><a NAME="alpha_WR"><A HREF="#_d_alpha_WR"><TT>alpha_WR</TT></A></a></td>
<td><A HREF="#_i_alpha_WR">Par.</A></td>
<td> All 1 instances equal to 0.5.</td></tr>
<tr VALIGN=TOP><td><a NAME="beta_WR"><A HREF="#_d_beta_WR"><TT>beta_WR</TT></A></a></td>
<td><A HREF="#_i_beta_WR">Par.</A></td>
<td> All 1 instances equal to 7.</td></tr>
<tr VALIGN=TOP><td><a NAME="c_WR"><A HREF="#_d_c_WR"><TT>c_WR</TT></A></a></td>
<td><A HREF="#_i_c_WR">Par.</A></td>
<td> All 1 instances equal to 25.</td></tr>
<tr VALIGN=TOP><td><a NAME="distance_wd"><A HREF="#_d_distance_wd"><TT>distance_wd</TT></A></a></td>
<td><A HREF="#_i_distance_wd">Par.</A></td>
<td> All 1 instances equal to 1.</td></tr>
<tr VALIGN=TOP><td><a NAME="fertility_f_high"><A HREF="#_d_fertility_f_high"><TT>fertility_f_high</TT></A></a></td>
<td><A HREF="#_i_fertility_f_high">Par.</A></td>
<td> All 1 instances equal to 45.</td></tr>
<tr VALIGN=TOP><td><a NAME="fertility_f_low"><A HREF="#_d_fertility_f_low"><TT>fertility_f_low</TT></A></a></td>
<td><A HREF="#_i_fertility_f_low">Par.</A></td>
<td> All 1 instances equal to 15.</td></tr>
<tr VALIGN=TOP><td><a NAME="fertility_m_high"><A HREF="#_d_fertility_m_high"><TT>fertility_m_high</TT></A></a></td>
<td><A HREF="#_i_fertility_m_high">Par.</A></td>
<td> All 1 instances equal to 65.</td></tr>
<tr VALIGN=TOP><td><a NAME="fertility_m_low"><A HREF="#_d_fertility_m_low"><TT>fertility_m_low</TT></A></a></td>
<td><A HREF="#_i_fertility_m_low">Par.</A></td>
<td> All 1 instances equal to 15.</td></tr>
<tr VALIGN=TOP><td><a NAME="rho_WD"><A HREF="#_d_rho_WD"><TT>rho_WD</TT></A></a></td>
<td><A HREF="#_i_rho_WD">Par.</A></td>
<td> </td></tr>
<tr VALIGN=TOP><td><a NAME="WD_alt_model"><A HREF="#_d_WD_alt_model"><TT>WD_alt_model</TT></A></a></td>
<td><A HREF="#_i_WD_alt_model">Par.</A></td>
<td> All 1 instances equal to 0.</td></tr>
<tr VALIGN=TOP><td><a NAME="wr_hintvl"><A HREF="#_d_wr_hintvl"><TT>wr_hintvl</TT></A></a></td>
<td><A HREF="#_i_wr_hintvl">Par.</A></td>
<td> All 1 instances equal to 2.</td></tr>
</table><br>
<HR WIDTH="100%">
<A NAME="_INITIALVALUES_"><H2>Initial values</H2></A>
<H3>Object tree</H3>
<TT><A HREF="#_i_Root">Root</A></TT><TT>&mdash;&gt;</TT><TT><A HREF="#_i_Pop_Model">Pop_Model</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>|</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&mdash;&gt;</TT><TT><A HREF="#_i_Agent">Agent</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>|</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&mdash;&gt;</TT><TT><A HREF="#_i_Settings">Settings</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<H3>Variables</H3>
(none)<BR>
<H3>Parameters</H3>
<form name="form_p_all_Root__i_" method="POST">
<select name="entry" class="form">
<option value="#_i_alpha_WR">alpha_WR</option>
<option value="#_i_beta_WR">beta_WR</option>
<option value="#_i_c_WR">c_WR</option>
<option value="#_i_death_age">death_age</option>
<option value="#_i_distance_wd">distance_wd</option>
<option value="#_i_father">father</option>
<option value="#_i_fertility_f_high">fertility_f_high</option>
<option value="#_i_fertility_f_low">fertility_f_low</option>
<option value="#_i_fertility_high">fertility_high</option>
<option value="#_i_fertility_low">fertility_low</option>
<option value="#_i_fertility_m_high">fertility_m_high</option>
<option value="#_i_fertility_m_low">fertility_m_low</option>
<option value="#_i_ID">ID</option>
<option value="#_i_m0_maxLife">m0_maxLife</option>
<option value="#_i_m1_alpha">m1_alpha</option>
<option value="#_i_m1_beta">m1_beta</option>
<option value="#_i_Model_Type">Model_Type</option>
<option value="#_i_mother">mother</option>
<option value="#_i_PartnerID">PartnerID</option>
<option value="#_i_Pop_const_n">Pop_const_n</option>
<option value="#_i_rho_WD">rho_WD</option>
<option value="#_i_ro_a_high">ro_a_high</option>
<option value="#_i_ro_a_low">ro_a_low</option>
<option value="#_i_SA_">SA_</option>
<option value="#_i_WD_alt_model">WD_alt_model</option>
<option value="#_i_wr_gamma">wr_gamma</option>
<option value="#_i_wr_hintvl">wr_hintvl</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_all_Root__i_.entry.options[document.form_p_all_Root__i_.entry.selectedIndex].value">
</form><HR WIDTH="100%">
<H3><A NAME="Root">Object: &nbsp;<TT><U>Root</U></TT></A></H3><i>Instances number: &nbsp</i>1<BR><i>Instances group(s): &nbsp;</i>1 <BR><BR>
<table BORDER><tr><td><center><i>Element</i></center></td>
<td><center><i>Lag</i></center></td>
<td><center><i>Initial values (by instance)</i></center></td>
</tr><tr VALIGN=TOP><td><a NAME="_i_SA_"><A HREF="#SA_"><TT>SA_</TT></A></a></td>
<td>Par.</td>
<td>0</td></tr>
</table><BR>
<HR WIDTH="100%">
<H3><A NAME="Pop_Model">Object: &nbsp;<TT><U>Pop_Model</U></TT></A></H3><i>Instances number: &nbsp</i>1<BR><i>Instances group(s): &nbsp;</i>1 <BR><BR>
<table BORDER><tr><td><center><i>Element</i></center></td>
<td><center><i>Lag</i></center></td>
<td><center><i>Initial values (by instance)</i></center></td>
</tr><tr VALIGN=TOP><td><a NAME="_i_m1_alpha"><A HREF="#m1_alpha"><TT>m1_alpha</TT></A></a></td>
<td>Par.</td>
<td>5.44</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_m1_beta"><A HREF="#m1_beta"><TT>m1_beta</TT></A></a></td>
<td>Par.</td>
<td>-0.014729</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_Pop_const_n"><A HREF="#Pop_const_n"><TT>Pop_const_n</TT></A></a></td>
<td>Par.</td>
<td>2000</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_Model_Type"><A HREF="#Model_Type"><TT>Model_Type</TT></A></a></td>
<td>Par.</td>
<td>1</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_m0_maxLife"><A HREF="#m0_maxLife"><TT>m0_maxLife</TT></A></a></td>
<td>Par.</td>
<td>100</td></tr>
</table><BR>
<HR WIDTH="100%">
<H3><A NAME="Agent">Object: &nbsp;<TT><U>Agent</U></TT></A></H3><i>Instances number: &nbsp</i>1<BR><i>Instances group(s): &nbsp;</i>1 <BR><BR>
<table BORDER><tr><td><center><i>Element</i></center></td>
<td><center><i>Lag</i></center></td>
<td><center><i>Initial values (by instance)</i></center></td>
</tr><tr VALIGN=TOP><td><a NAME="_i_ID"><A HREF="#ID"><TT>ID</TT></A></a></td>
<td>Par.</td>
<td>0</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_death_age"><A HREF="#death_age"><TT>death_age</TT></A></a></td>
<td>Par.</td>
<td>0</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_father"><A HREF="#father"><TT>father</TT></A></a></td>
<td>Par.</td>
<td>-1</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_mother"><A HREF="#mother"><TT>mother</TT></A></a></td>
<td>Par.</td>
<td>-1</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_PartnerID"><A HREF="#PartnerID"><TT>PartnerID</TT></A></a></td>
<td>Par.</td>
<td>0</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_ro_a_high"><A HREF="#ro_a_high"><TT>ro_a_high</TT></A></a></td>
<td>Par.</td>
<td>0</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_ro_a_low"><A HREF="#ro_a_low"><TT>ro_a_low</TT></A></a></td>
<td>Par.</td>
<td>0</td></tr>
</table><BR>
<HR WIDTH="100%">
<H3><A NAME="Settings">Object: &nbsp;<TT><U>Settings</U></TT></A></H3><i>Instances number: &nbsp</i>1<BR><i>Instances group(s): &nbsp;</i>1 <BR><BR>
<table BORDER><tr><td><center><i>Element</i></center></td>
<td><center><i>Lag</i></center></td>
<td><center><i>Initial values (by instance)</i></center></td>
</tr><tr VALIGN=TOP><td><a NAME="_i_fertility_low"><A HREF="#fertility_low"><TT>fertility_low</TT></A></a></td>
<td>Par.</td>
<td>15</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_fertility_high"><A HREF="#fertility_high"><TT>fertility_high</TT></A></a></td>
<td>Par.</td>
<td>35</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_wr_gamma"><A HREF="#wr_gamma"><TT>wr_gamma</TT></A></a></td>
<td>Par.</td>
<td>2</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_alpha_WR"><A HREF="#alpha_WR"><TT>alpha_WR</TT></A></a></td>
<td>Par.</td>
<td>0.5</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_beta_WR"><A HREF="#beta_WR"><TT>beta_WR</TT></A></a></td>
<td>Par.</td>
<td>7</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_c_WR"><A HREF="#c_WR"><TT>c_WR</TT></A></a></td>
<td>Par.</td>
<td>25</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_distance_wd"><A HREF="#distance_wd"><TT>distance_wd</TT></A></a></td>
<td>Par.</td>
<td>1</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_fertility_f_high"><A HREF="#fertility_f_high"><TT>fertility_f_high</TT></A></a></td>
<td>Par.</td>
<td>45</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_fertility_f_low"><A HREF="#fertility_f_low"><TT>fertility_f_low</TT></A></a></td>
<td>Par.</td>
<td>15</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_fertility_m_high"><A HREF="#fertility_m_high"><TT>fertility_m_high</TT></A></a></td>
<td>Par.</td>
<td>65</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_fertility_m_low"><A HREF="#fertility_m_low"><TT>fertility_m_low</TT></A></a></td>
<td>Par.</td>
<td>15</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_rho_WD"><A HREF="#rho_WD"><TT>rho_WD</TT></A></a></td>
<td>Par.</td>
<td>1</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_WD_alt_model"><A HREF="#WD_alt_model"><TT>WD_alt_model</TT></A></a></td>
<td>Par.</td>
<td>0</td></tr>
<tr VALIGN=TOP><td><a NAME="_i_wr_hintvl"><A HREF="#wr_hintvl"><TT>wr_hintvl</TT></A></a></td>
<td>Par.</td>
<td>2</td></tr>
</table><BR>
<HR WIDTH="100%">
<A NAME="_DETAILS_"><H2>Equations code</H2></A>
<H3>Object tree</H3>
<TT><A HREF="#_d_Root">Root</A></TT><TT>&mdash;&gt;</TT><TT><A HREF="#_d_Pop_Model">Pop_Model</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>|</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&mdash;&gt;</TT><TT><A HREF="#_d_Agent">Agent</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>|</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&mdash;&gt;</TT><TT><A HREF="#_d_Settings">Settings</A></TT><BR>
<TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><TT>&nbsp;</TT><BR>
<H3>Variables</H3>
<form name="form_v_all_Root__d_" method="POST">
<select name="entry" class="form">
<option value="#_d_age">age</option>
<option value="#_d_age_accept_high">age_accept_high</option>
<option value="#_d_age_accept_low">age_accept_low</option>
<option value="#_d_age_influence">age_influence</option>
<option value="#_d_Death">Death</option>
<option value="#_d_Delete_Agent">Delete_Agent</option>
<option value="#_d_female">female</option>
<option value="#_d_Init_Agent">Init_Agent</option>
<option value="#_d_Init_Global">Init_Global</option>
<option value="#_d_Partner_Status">Partner_Status</option>
<option value="#_d_Pop_age">Pop_age</option>
<option value="#_d_Pop_birth">Pop_birth</option>
<option value="#_d_Potential_Partner">Potential_Partner</option>
<option value="#_d_psearch_radius">psearch_radius</option>
<option value="#_d_Relevant_Other">Relevant_Other</option>
<option value="#_d_Social_Pressure">Social_Pressure</option>
<option value="#_d_Updating_Scheme">Updating_Scheme</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_v_all_Root__d_.entry.options[document.form_v_all_Root__d_.entry.selectedIndex].value">
</form><H3>Parameters</H3>
<form name="form_p_all_Root__d_" method="POST">
<select name="entry" class="form">
<option value="#_d_alpha_WR">alpha_WR</option>
<option value="#_d_beta_WR">beta_WR</option>
<option value="#_d_c_WR">c_WR</option>
<option value="#_d_death_age">death_age</option>
<option value="#_d_distance_wd">distance_wd</option>
<option value="#_d_father">father</option>
<option value="#_d_fertility_f_high">fertility_f_high</option>
<option value="#_d_fertility_f_low">fertility_f_low</option>
<option value="#_d_fertility_high">fertility_high</option>
<option value="#_d_fertility_low">fertility_low</option>
<option value="#_d_fertility_m_high">fertility_m_high</option>
<option value="#_d_fertility_m_low">fertility_m_low</option>
<option value="#_d_ID">ID</option>
<option value="#_d_m0_maxLife">m0_maxLife</option>
<option value="#_d_m1_alpha">m1_alpha</option>
<option value="#_d_m1_beta">m1_beta</option>
<option value="#_d_Model_Type">Model_Type</option>
<option value="#_d_mother">mother</option>
<option value="#_d_PartnerID">PartnerID</option>
<option value="#_d_Pop_const_n">Pop_const_n</option>
<option value="#_d_rho_WD">rho_WD</option>
<option value="#_d_ro_a_high">ro_a_high</option>
<option value="#_d_ro_a_low">ro_a_low</option>
<option value="#_d_SA_">SA_</option>
<option value="#_d_WD_alt_model">WD_alt_model</option>
<option value="#_d_wr_gamma">wr_gamma</option>
<option value="#_d_wr_hintvl">wr_hintvl</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_all_Root__d_.entry.options[document.form_p_all_Root__d_.entry.selectedIndex].value">
</form><BR><i>Equation file:</i> &nbsp;<TT><u>fun_templ_pop.cpp</u></TT><BR><BR><HR WIDTH="100%">
<H3><A NAME="_d_Root">Object: &nbsp;<TT><U>Root</U></TT></A></H3>
<i>Containing: &nbsp;</i><TT><A HREF="#Pop_Model">Pop_Model</A></TT><TT>,  <A HREF="#Agent">Agent</A></TT><TT>,  <A HREF="#Settings">Settings</A></TT><BR>
<BR>
<i>Variables: &nbsp;</i><form name="form_v_Root__d_" method="POST">
<select name="entry" class="form">
<option value="#_d_Delete_Agent">Delete_Agent</option>
<option value="#_d_Init_Global">Init_Global</option>
<option value="#_d_Updating_Scheme">Updating_Scheme</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_v_Root__d_.entry.options[document.form_v_Root__d_.entry.selectedIndex].value">
</form><i>Parameters: &nbsp;</i><form name="form_p_Root__d_" method="POST">
<select name="entry" class="form">
<option value="#_d_SA_">SA_</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_Root__d_.entry.options[document.form_p_Root__d_.entry.selectedIndex].value">
</form><HR WIDTH="100%">
<A NAME="_d_Updating_Scheme"><H4>Variable: &nbsp;<TT><U>Updating_Scheme</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Root"><TT>Root</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_Init_Global">Init_Global</A></TT><TT><A HREF="#_d_Pop_age">Pop_age</A></TT><TT>, <A HREF="#_d_Pop_birth">Pop_birth</A></TT><TT>, <A HREF="#_d_female">female</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Updating_Scheme")
</TT><BR><TT><FONT COLOR="#009900">/*  Controls the flow of events at any single simulation tick. This should always</FONT></TT>
<BR><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;be the first equation called in any model! */</FONT></TT>
<BR><TT><FONT COLOR="#009900">//TRACK_SEQUENCE</FONT></TT>
<BR><TT>V("<A HREF="#_d_Init_Global">Init_Global</A>"); <FONT COLOR="#009900">//once then parameter</FONT></TT>
<BR><TT></TT>
<BR><TT><FONT COLOR="#009900">/* Before all else, the population is updated */</FONT></TT>
<BR><TT>V("<A HREF="#_d_Pop_age">Pop_age</A>");     <FONT COLOR="#009900">//existing generation ages. Some persons may die.</FONT></TT>
<BR><TT>V("<A HREF="#_d_Pop_birth">Pop_birth</A>");   <FONT COLOR="#009900">//If the population model generates new agents, that happens here.</FONT></TT>
<BR><TT></TT>
<BR><TT>VERBOSE_MODE(true){</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;cur = POP_RANDOM_PERSON('x',10,30);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nRandomly selecting an agent within age 10 and 30.">\nRandomly selecting an agent within age 10 and 30.</A>");</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (cur==NULL) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\n NO SUCH AGENT">\n NO SUCH AGENT</A>");</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;} else {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nInfos according to new method: ID %g, m_ID %g, f_ID %g, age %g, d_age %g, gender %g">\nInfos according to new method: ID %g, m_ID %g, f_ID %g, age %g, d_age %g, gender %g</A>",</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIDS(cur),POP_MOTHERS(cur)!=NULL?UIDS(POP_MOTHERS(cur)):-1.0,POP_FATHERS(cur)!=NULL?UIDS(POP_FATHERS(cur)):-1.0,POP_AGES(cur),POP_D_AGES(cur),POP_FEMALES(cur)  );</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;cur=POP_RANDOM_PERSON('m',t,t+2); <FONT COLOR="#009900">//male</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: Random agent should have gender %s and age between %i and %i">\nTest: Random agent should have gender %s and age between %i and %i</A>","<A HREF="#_d_male">male</A>",t,t+2);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (cur==NULL){</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: No such agent exists">\nTest: No such agent exists</A>");</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;} else {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: Returned agent: ID %g  gender %s and age %g">\nTest: Returned agent: ID %g  gender %s and age %g</A>",UIDS(cur),POP_FEMALES(cur)==true?"<A HREF="#_d_female">female</A>":"<A HREF="#_d_male">male</A>",POP_AGES(cur));</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;cur=POP_RANDOM_PERSON('f',t,t+2); <FONT COLOR="#009900">//female</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: Random agent should have gender %s and age between %i and %i">\nTest: Random agent should have gender %s and age between %i and %i</A>","<A HREF="#_d_female">female</A>",t,t+2);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (cur==NULL){</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: No such agent exists">\nTest: No such agent exists</A>");</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;} else {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: Returned agent: ID %g  gender %s and age %g">\nTest: Returned agent: ID %g  gender %s and age %g</A>",UIDS(cur),POP_FEMALES(cur)==true?"<A HREF="#_d_female">female</A>":"<A HREF="#_d_male">male</A>",POP_AGES(cur));</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;cur=POP_RANDOM_PERSON('x',-1,-1); <FONT COLOR="#009900">//doesn't matter</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: Random agent should have gender %s and age between %i and %i">\nTest: Random agent should have gender %s and age between %i and %i</A>","<A HREF="#_d_unspecified">unspecified</A>",t,t+2);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (cur==NULL){</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: No such agent exists">\nTest: No such agent exists</A>");</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;} else {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nTest: Returned agent: ID %g  gender %s and age %g">\nTest: Returned agent: ID %g  gender %s and age %g</A>",UIDS(cur),POP_FEMALES(cur)==true?"<A HREF="#_d_female">female</A>":"<A HREF="#_d_male">male</A>",POP_AGES(cur));</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>}</TT>
<BR><TT></TT>
<BR><TT>VERBOSE_MODE(true){</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;POP_FAMILY_DEGREE(POP_RANDOM_PERSON('f',-1,-1),POP_RANDOM_PERSON('m',-1,-1));</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;POP_CHECK_INCEST(POP_RANDOM_PERSON('f',-1,-1),POP_RANDOM_PERSON('m',-1,-1),3);</TT>
<BR><TT>}</TT>
<BR><TT>&nbsp;&nbsp;<FONT COLOR="#009900">//END: Test new population module</FONT></TT>
<BR><TT></TT>
<BR><TT>RESULT(0.0)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_SA_"><H4>Parameter: &nbsp;<TT><U>SA_</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Root"><TT>Root</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_Delete_Agent"><H4>Function: &nbsp;<TT><U>Delete_Agent</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Root"><TT>Root</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<I>Using: &nbsp;</I>(none)<BR>
<BR><I>Equation code</I>: (not available)<BR><BR>
<HR WIDTH="100%">
<A NAME="_d_Init_Global"><H4>Variable: &nbsp;<TT><U>Init_Global</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Root"><TT>Root</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Updating_Scheme">Updating_Scheme</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_Pop_birth">Pop_birth</A></TT><TT>, <A HREF="#_d_m1_alpha">m1_alpha</A></TT><TT>, <A HREF="#_d_m1_beta">m1_beta</A></TT><TT>, <A HREF="#_d_Pop_const_n">Pop_const_n</A></TT><TT>, <A HREF="#_d_Model_Type">Model_Type</A></TT><TT>, <A HREF="#_d_m0_maxLife">m0_maxLife</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Init_Global")
</TT><BR><TT><FONT COLOR="#009900">/*  This it the main initialisation function, calling all initialisation action</FONT></TT>
<BR><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;necessary. */</FONT></TT>
<BR><TT></TT>
<BR><TT>int model_type = V("<A HREF="#_d_Model_Type">Model_Type</A>"); <FONT COLOR="#009900">//allow testing different models.</FONT></TT>
<BR><TT>int n_generation = 0;</TT>
<BR><TT></TT>
<BR><TT>if (model_type == 1)</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;INIT_POPULATION_MODULE("<A HREF="#_d_BLL">BLL</A>", 0.0, 1.0, 0.5, V("<A HREF="#_d_m1_alpha">m1_alpha</A>"), V("<A HREF="#_d_m1_beta">m1_beta</A>")); <FONT COLOR="#009900">//Model, t_start, t_unit, femaleRatio, par1, par2</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;n_generation = POP_CONSTN_BIRTH(V("<A HREF="#_d_Pop_const_n">Pop_const_n</A>")); <FONT COLOR="#009900">//size of the first generation</FONT></TT>
<BR><TT>}</TT>
<BR><TT>else</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;INIT_POPULATION_MODULE("<A HREF="#_d_NONE">NONE</A>", 0.0, 1.0, 0.5); <FONT COLOR="#009900">//Model, t_start, t_unit, femaleRatio</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;n_generation = V("<A HREF="#_d_Pop_const_n">Pop_const_n</A>") / V("<A HREF="#_d_m0_maxLife">m0_maxLife</A>") * 2;</TT>
<BR><TT>}</TT>
<BR><TT></TT>
<BR><TT>INIT_SPACE_ROOT_WRAP(100, 100, 15); <FONT COLOR="#009900">//initialise grid space as in BHSC The Grid Size needs to be squared, but is otherwise just a performance parameter.</FONT></TT>
<BR><TT></TT>
<BR><TT>object* to_delete = SEARCH("<A HREF="#_d_Agent">Agent</A>"); <FONT COLOR="#009900">//Template person will die.</FONT></TT>
<BR><TT>V("<A HREF="#_d_Pop_birth">Pop_birth</A>"); <FONT COLOR="#009900">// a new agent is added NOW.</FONT></TT>
<BR><TT>DELETE(to_delete);</TT>
<BR><TT></TT>
<BR><TT>PARAMETER</TT>
<BR><TT>RESULT(0)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<H3><A NAME="_d_Pop_Model">Object: &nbsp;<TT><U>Pop_Model</U></TT></A></H3>
<i>Contained in: &nbsp;</i><TT><A HREF="#Root">Root</A></TT><BR>
<BR>
<i>Variables: &nbsp;</i><form name="form_v_Pop_Model__d_" method="POST">
<select name="entry" class="form">
<option value="#_d_Pop_age">Pop_age</option>
<option value="#_d_Pop_birth">Pop_birth</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_v_Pop_Model__d_.entry.options[document.form_v_Pop_Model__d_.entry.selectedIndex].value">
</form><i>Parameters: &nbsp;</i><form name="form_p_Pop_Model__d_" method="POST">
<select name="entry" class="form">
<option value="#_d_m0_maxLife">m0_maxLife</option>
<option value="#_d_m1_alpha">m1_alpha</option>
<option value="#_d_m1_beta">m1_beta</option>
<option value="#_d_Model_Type">Model_Type</option>
<option value="#_d_Pop_const_n">Pop_const_n</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_Pop_Model__d_.entry.options[document.form_p_Pop_Model__d_.entry.selectedIndex].value">
</form><HR WIDTH="100%">
<A NAME="_d_Pop_age"><H4>Variable: &nbsp;<TT><U>Pop_age</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Pop_Model"><TT>Pop_Model</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Updating_Scheme">Updating_Scheme</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_Death">Death</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Pop_age")
</TT><BR><TT><FONT COLOR="#009900">/* Each agents get older one year. */</FONT></TT>
<BR><TT><FONT COLOR="#009900">//TRACK_SEQUENCE</FONT></TT>
<BR><TT></TT>
<BR><TT>POP_ADVANCE_TIME <FONT COLOR="#009900">//let agents age</FONT></TT>
<BR><TT><FONT COLOR="#009900">//Kill agents that are dead</FONT></TT>
<BR><TT>double alive = 0.0;</TT>
<BR><TT>CYCLE_SAFES(p-&gt;up, cur, "<A HREF="#_d_Agent">Agent</A>")</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (false == POP_ALIVES(cur)) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (0.0 &lt; alive || NULL != cur-&gt;next ) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VS(cur, "<A HREF="#_d_Death">Death</A>");</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PLOG("<A HREF="#_d_\nAt time %i: Simulation at premature end. Last agent would have died.">\nAt time %i: Simulation at premature end. Last agent would have died.</A>", t);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ABORT</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;else {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alive++;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>}</TT>
<BR><TT>RESULT(alive)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_Pop_birth"><H4>Variable: &nbsp;<TT><U>Pop_birth</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Pop_Model"><TT>Pop_Model</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Updating_Scheme">Updating_Scheme</A></TT><TT>, <A HREF="#_d_Init_Global">Init_Global</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_Pop_const_n">Pop_const_n</A></TT><TT>, <A HREF="#_d_Model_Type">Model_Type</A></TT><TT>, <A HREF="#_d_m0_maxLife">m0_maxLife</A></TT><TT>, <A HREF="#_d_Init_Agent">Init_Agent</A></TT><TT>, <A HREF="#_d_fertility_low">fertility_low</A></TT><TT>, <A HREF="#_d_fertility_high">fertility_high</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Pop_birth")
</TT><BR><TT><FONT COLOR="#009900">/* Add next generation.*/</FONT></TT>
<BR><TT><FONT COLOR="#009900">//TRACK_SEQUENCE</FONT></TT>
<BR><TT>int model_type = V("<A HREF="#_d_Model_Type">Model_Type</A>"); <FONT COLOR="#009900">//e.g., 1 == BLL</FONT></TT>
<BR><TT>int n_generation = 0;</TT>
<BR><TT>if (model_type == 1)</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;n_generation = POP_CONSTN_BIRTH(V("<A HREF="#_d_Pop_const_n">Pop_const_n</A>")); <FONT COLOR="#009900">//size of the first generation</FONT></TT>
<BR><TT>}</TT>
<BR><TT>else</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;n_generation = V("<A HREF="#_d_Pop_const_n">Pop_const_n</A>") / V("<A HREF="#_d_m0_maxLife">m0_maxLife</A>") * 2;</TT>
<BR><TT>}</TT>
<BR><TT></TT>
<BR><TT><FONT COLOR="#009900">//add new agents</FONT></TT>
<BR><TT>for (int i = 0; i &lt; n_generation; i++)</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;object* ptrAgent = ADDOBJLS(p-&gt;up, "<A HREF="#_d_Agent">Agent</A>", 0); <FONT COLOR="#009900">//create LSD agent</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;object* mother = POP_RANDOM_PERSON('f', V("<A HREF="#_d_fertility_low">fertility_low</A>"), V("<A HREF="#_d_fertility_high">fertility_high</A>")); <FONT COLOR="#009900">//find a mother</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;object* father = NULL; <FONT COLOR="#009900">//place holder - no father (yet)</FONT></TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (mother != NULL) { <FONT COLOR="#009900">//check if there is a child already,</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#009900">// PLOG("\n Check POP_MGENITORS");</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;father = POP_MGENITORS(mother);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#009900">// if (father==NULL)</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#009900">// PLOG("\n no father");</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (father == NULL) { <FONT COLOR="#009900">//no father yet</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;father = POP_RANDOM_PERSON('m', 15, 65);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;POP_ADD_PERSON_WPARENTS(ptrAgent, mother, father); <FONT COLOR="#009900">//Add to population module</FONT></TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;<FONT COLOR="#009900">//Add to space for wedding ring model</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (NULL != father && NULL != mother) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD_TO_SPACE_CENTER_SHARES(ptrAgent, mother, father);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;else if (NULL != mother) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD_TO_SPACE_SHARES(ptrAgent, mother);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;else if (NULL != father) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD_TO_SPACE_SHARES(ptrAgent, father);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;else {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD_TO_SPACE_RNDS(ptrAgent, root); <FONT COLOR="#009900">//Add to space at random position</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (V("<A HREF="#_d_Model_Type">Model_Type</A>") == 0) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;POP_SET_DAGES(ptrAgent, RND * V("<A HREF="#_d_m0_maxLife">m0_maxLife</A>")); <FONT COLOR="#009900">//in the no model case, chose random age between 0 and 100.</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;VS(ptrAgent, "<A HREF="#_d_Init_Agent">Init_Agent</A>");</TT>
<BR><TT>}</TT>
<BR><TT></TT>
<BR><TT>RESULT(double(n_generation) )</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_m1_alpha"><H4>Parameter: &nbsp;<TT><U>m1_alpha</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Pop_Model"><TT>Pop_Model</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Init_Global">Init_Global</A></TT><BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_m1_beta"><H4>Parameter: &nbsp;<TT><U>m1_beta</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Pop_Model"><TT>Pop_Model</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Init_Global">Init_Global</A></TT><BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_Pop_const_n"><H4>Parameter: &nbsp;<TT><U>Pop_const_n</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Pop_Model"><TT>Pop_Model</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Init_Global">Init_Global</A></TT><TT>, <A HREF="#_d_Pop_birth">Pop_birth</A></TT><BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_Model_Type"><H4>Parameter: &nbsp;<TT><U>Model_Type</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Pop_Model"><TT>Pop_Model</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Init_Global">Init_Global</A></TT><TT>, <A HREF="#_d_Pop_birth">Pop_birth</A></TT><BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_m0_maxLife"><H4>Parameter: &nbsp;<TT><U>m0_maxLife</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Pop_Model"><TT>Pop_Model</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Init_Global">Init_Global</A></TT><TT>, <A HREF="#_d_Pop_birth">Pop_birth</A></TT><BR>
<BR>
<HR WIDTH="100%">
<H3><A NAME="_d_Agent">Object: &nbsp;<TT><U>Agent</U></TT></A></H3>
<i>Contained in: &nbsp;</i><TT><A HREF="#Root">Root</A></TT><BR>
<BR>
<i>Variables: &nbsp;</i><form name="form_v_Agent__d_" method="POST">
<select name="entry" class="form">
<option value="#_d_age">age</option>
<option value="#_d_age_accept_high">age_accept_high</option>
<option value="#_d_age_accept_low">age_accept_low</option>
<option value="#_d_age_influence">age_influence</option>
<option value="#_d_Death">Death</option>
<option value="#_d_female">female</option>
<option value="#_d_Init_Agent">Init_Agent</option>
<option value="#_d_Partner_Status">Partner_Status</option>
<option value="#_d_Potential_Partner">Potential_Partner</option>
<option value="#_d_psearch_radius">psearch_radius</option>
<option value="#_d_Relevant_Other">Relevant_Other</option>
<option value="#_d_Social_Pressure">Social_Pressure</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_v_Agent__d_.entry.options[document.form_v_Agent__d_.entry.selectedIndex].value">
</form><i>Parameters: &nbsp;</i><form name="form_p_Agent__d_" method="POST">
<select name="entry" class="form">
<option value="#_d_death_age">death_age</option>
<option value="#_d_father">father</option>
<option value="#_d_ID">ID</option>
<option value="#_d_mother">mother</option>
<option value="#_d_PartnerID">PartnerID</option>
<option value="#_d_ro_a_high">ro_a_high</option>
<option value="#_d_ro_a_low">ro_a_low</option>
</select>
<INPUT TYPE=button VALUE="Show" onClick="location.href = document.form_p_Agent__d_.entry.options[document.form_p_Agent__d_.entry.selectedIndex].value">
</form><HR WIDTH="100%">
<A NAME="_d_ID"><H4>Parameter: &nbsp;<TT><U>ID</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_age"><H4>Variable: &nbsp;<TT><U>age</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<I>Using: &nbsp;</I>(none)<BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("age")
</TT><BR><TT><FONT COLOR="#009900">//TRACK_SEQUENCE</FONT></TT>
<BR><TT>RESULT(POP_AGE)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_female"><H4>Variable: &nbsp;<TT><U>female</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Updating_Scheme">Updating_Scheme</A></TT><BR>
<I>Using: &nbsp;</I>(none)<BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("female")
</TT><BR><TT><FONT COLOR="#009900">//TRACK_SEQUENCE</FONT></TT>
<BR><TT>PARAMETER</TT>
<BR><TT>RESULT(POP_FEMALE)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_death_age"><H4>Parameter: &nbsp;<TT><U>death_age</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_father"><H4>Parameter: &nbsp;<TT><U>father</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_mother"><H4>Parameter: &nbsp;<TT><U>mother</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_Death"><H4>Function: &nbsp;<TT><U>Death</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Pop_age">Pop_age</A></TT><BR>
<I>Using: &nbsp;</I>(none)<BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Death")
</TT><BR><TT><FONT COLOR="#009900">/* Kill the agent */</FONT></TT>
<BR><TT><FONT COLOR="#009900">//TRACK_SEQUENCE</FONT></TT>
<BR><TT>DELETE(p)</TT>
<BR><TT><FONT COLOR="#009900">//   POP_INFO</FONT></TT>
<BR><TT>RESULT(0.0)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_Init_Agent"><H4>Variable: &nbsp;<TT><U>Init_Agent</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Pop_birth">Pop_birth</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_ro_a_high">ro_a_high</A></TT><TT>, <A HREF="#_d_ro_a_low">ro_a_low</A></TT><TT>, <A HREF="#_d_wr_gamma">wr_gamma</A></TT><TT>, <A HREF="#_d_wr_hintvl">wr_hintvl</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Init_Agent")
</TT><BR><TT><FONT COLOR="#009900">/*  Initialise a new agent</FONT></TT>
<BR><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;- define agent characteristics</FONT></TT>
<BR><TT><FONT COLOR="#009900">*/</FONT></TT>
<BR><TT></TT>
<BR><TT>int ro_type = uniform_int(1, 5); <FONT COLOR="#009900">//kind of shift of age interval for relevant others.</FONT></TT>
<BR><TT>double gamma = RND * V("<A HREF="#_d_wr_gamma">wr_gamma</A>"); <FONT COLOR="#009900">//strength of shift</FONT></TT>
<BR><TT>double hwidth = RND * V("<A HREF="#_d_wr_hintvl">wr_hintvl</A>"); <FONT COLOR="#009900">//size of half of interval</FONT></TT>
<BR><TT></TT>
<BR><TT>double a_center;</TT>
<BR><TT>switch (ro_type)</TT>
<BR><TT>{</TT>
<BR><TT>case 1:</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;a_center = - gamma;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;break;</TT>
<BR><TT>case 2:</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;a_center = - gamma / 2.0;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;break;</TT>
<BR><TT>case 3:</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;a_center = 0.0;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;break;</TT>
<BR><TT>case 4:</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;a_center = gamma / 2.0;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;break;</TT>
<BR><TT>case 5:</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;a_center = gamma;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;break;</TT>
<BR><TT>}</TT>
<BR><TT>WRITE("<A HREF="#_d_ro_a_low">ro_a_low</A>", a_center - hwidth); <FONT COLOR="#009900">//absolute distance to age younger relevant others</FONT></TT>
<BR><TT>WRITE("<A HREF="#_d_ro_a_high">ro_a_high</A>", a_center + hwidth);</TT>
<BR><TT>PARAMETER</TT>
<BR><TT>RESULT(0.0)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_Relevant_Other"><H4>Function: &nbsp;<TT><U>Relevant_Other</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<I>Using: &nbsp;</I>(none)<BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Relevant_Other")
</TT><BR><TT><FONT COLOR="#009900">/*  This is a FUNCTION that reports to the caller if the callee (the agent which holds the function) is a relevant other.</FONT></TT>
<BR><TT><FONT COLOR="#009900"></FONT></TT>
<BR><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;A person is relevant to the other person, if it is (a) within physical distance, emulating the social distance and (b) within age distance.</FONT></TT>
<BR><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;We may disable the check for (a) if we search within the relevant distance ex ante.</FONT></TT>
<BR><TT><FONT COLOR="#009900"></FONT></TT>
<BR><TT><FONT COLOR="#009900">*/</FONT></TT>
<BR><TT></TT>
<BR><TT></TT>
<BR><TT>double is_relevant = 0.0;</TT>
<BR><TT></TT>
<BR><TT></TT>
<BR><TT></TT>
<BR><TT></TT>
<BR><TT>RESULT(is_relevant)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_psearch_radius"><H4>Variable: &nbsp;<TT><U>psearch_radius</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Potential_Partner">Potential_Partner</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_age_influence">age_influence</A></TT><TT>, <A HREF="#_d_Social_Pressure">Social_Pressure</A></TT><TT>, <A HREF="#_d_distance_wd">distance_wd</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("psearch_radius")
</TT><BR><TT><FONT COLOR="#009900">/*  This is the search radius for the partner search in the Wedding Ring model.</FONT></TT>
<BR><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;It is set in 0,1 (relative)</FONT></TT>
<BR><TT><FONT COLOR="#009900">*/</FONT></TT>
<BR><TT><FONT COLOR="#009900">//TRACK_SEQUENCE</FONT></TT>
<BR><TT>double sp = V("<A HREF="#_d_Social_Pressure">Social_Pressure</A>");</TT>
<BR><TT>double ai_P = V("<A HREF="#_d_age_influence">age_influence</A>");</TT>
<BR><TT>double distance_wd = V("<A HREF="#_d_distance_wd">distance_wd</A>");</TT>
<BR><TT></TT>
<BR><TT>double psearch_radius = sp * ai_P * distance_wd;</TT>
<BR><TT></TT>
<BR><TT>RESULT(distance_wd)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_age_accept_low"><H4>Variable: &nbsp;<TT><U>age_accept_low</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Potential_Partner">Potential_Partner</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_age_influence">age_influence</A></TT><TT>, <A HREF="#_d_Social_Pressure">Social_Pressure</A></TT><TT>, <A HREF="#_d_c_WR">c_WR</A></TT><TT>, <A HREF="#_d_fertility_f_low">fertility_f_low</A></TT><TT>, <A HREF="#_d_fertility_m_low">fertility_m_low</A></TT><TT>, <A HREF="#_d_WD_alt_model">WD_alt_model</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("age_accept_low")
</TT><BR><TT><FONT COLOR="#009900">/* Calculate the lower bound of acceptable age */</FONT></TT>
<BR><TT>bool alt_model = V("<A HREF="#_d_WD_alt_model">WD_alt_model</A>") &gt; 0.0 ? true : false; <FONT COLOR="#009900">//define social pressure on share of people married, as in the original, or on share of people with children.</FONT></TT>
<BR><TT>double age_accept_low = POP_AGE - V("<A HREF="#_d_Social_Pressure">Social_Pressure</A>") * V("<A HREF="#_d_age_influence">age_influence</A>") * V("<A HREF="#_d_c_WR">c_WR</A>");</TT>
<BR><TT>if (alt_model)</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_accept_low = max( age_accept_low, ( POP_FEMALE ? V("<A HREF="#_d_fertility_m_low">fertility_m_low</A>") : V("<A HREF="#_d_fertility_f_low">fertility_f_low</A>") ) );</TT>
<BR><TT>}</TT>
<BR><TT>RESULT(age_accept_low)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_age_accept_high"><H4>Variable: &nbsp;<TT><U>age_accept_high</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Potential_Partner">Potential_Partner</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_age_influence">age_influence</A></TT><TT>, <A HREF="#_d_Social_Pressure">Social_Pressure</A></TT><TT>, <A HREF="#_d_c_WR">c_WR</A></TT><TT>, <A HREF="#_d_fertility_f_high">fertility_f_high</A></TT><TT>, <A HREF="#_d_fertility_m_high">fertility_m_high</A></TT><TT>, <A HREF="#_d_WD_alt_model">WD_alt_model</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("age_accept_high")
</TT><BR><TT><FONT COLOR="#009900">/* Calculate the lower bound of acceptable age */</FONT></TT>
<BR><TT>bool alt_model = V("<A HREF="#_d_WD_alt_model">WD_alt_model</A>") &gt; 0.0 ? true : false; <FONT COLOR="#009900">//define social pressure on share of people married, as in the original, or on share of people with children.</FONT></TT>
<BR><TT>double age_accept_high = POP_AGE + V("<A HREF="#_d_Social_Pressure">Social_Pressure</A>") * V("<A HREF="#_d_age_influence">age_influence</A>") * V("<A HREF="#_d_c_WR">c_WR</A>");</TT>
<BR><TT>if (alt_model)</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_accept_high = max( age_accept_high, ( POP_FEMALE ? V("<A HREF="#_d_fertility_m_high">fertility_m_high</A>") : V("<A HREF="#_d_fertility_f_high">fertility_f_high</A>") ) );</TT>
<BR><TT>}</TT>
<BR><TT>RESULT(age_accept_high)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_age_influence"><H4>Variable: &nbsp;<TT><U>age_influence</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_psearch_radius">psearch_radius</A></TT><TT>, <A HREF="#_d_age_accept_low">age_accept_low</A></TT><TT>, <A HREF="#_d_age_accept_high">age_accept_high</A></TT><BR>
<I>Using: &nbsp;</I>(none)<BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("age_influence")
</TT><BR><TT><FONT COLOR="#009900">/*  A factor that decides on the size of the socio-spatial network based on the age of the person. */</FONT></TT>
<BR><TT><FONT COLOR="#009900">//TRACK_SEQUENCE</FONT></TT>
<BR><TT>double age_influence;</TT>
<BR><TT>double age = POP_AGE;</TT>
<BR><TT></TT>
<BR><TT>if ( age &gt; 64 )</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_influence = 0.1;</TT>
<BR><TT>}</TT>
<BR><TT>else if ( age &gt; 60 )</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_influence = 6.5 - 0.1 * age;</TT>
<BR><TT>}</TT>
<BR><TT>else if ( age &gt; 38 )</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_influence = 0.5;</TT>
<BR><TT>}</TT>
<BR><TT>else if ( age &gt; 33 )</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_influence = 4.3 - 0.1 * age;</TT>
<BR><TT>}</TT>
<BR><TT>else if ( age &gt; 20 )</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_influence = 0.1;</TT>
<BR><TT>}</TT>
<BR><TT>else if ( age &gt;= 16 )</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_influence = 0.2 * age - 3.1;</TT>
<BR><TT>}</TT>
<BR><TT>else</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;age_influence = 0.0;</TT>
<BR><TT>}</TT>
<BR><TT></TT>
<BR><TT>RESULT(age_influence)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_Social_Pressure"><H4>Variable: &nbsp;<TT><U>Social_Pressure</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_psearch_radius">psearch_radius</A></TT><TT>, <A HREF="#_d_age_accept_low">age_accept_low</A></TT><TT>, <A HREF="#_d_age_accept_high">age_accept_high</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_Partner_Status">Partner_Status</A></TT><TT>, <A HREF="#_d_ro_a_high">ro_a_high</A></TT><TT>, <A HREF="#_d_ro_a_low">ro_a_low</A></TT><TT>, <A HREF="#_d_distance_wd">distance_wd</A></TT><TT>, <A HREF="#_d_rho_WD">rho_WD</A></TT><TT>, <A HREF="#_d_WD_alt_model">WD_alt_model</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Social_Pressure")
</TT><BR><TT><FONT COLOR="#009900">/*  This is the social presure that rests upon the individual to get a partner and start getting (more) children</FONT></TT>
<BR><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;At this point, the parameters alpha and beta are hard coded as in the papers [2,3], because the parameters it self are not useful to interpret.</FONT></TT>
<BR><TT><FONT COLOR="#009900">*/</FONT></TT>
<BR><TT></TT>
<BR><TT>bool alt_model = V("<A HREF="#_d_WD_alt_model">WD_alt_model</A>") &gt; 0.0 ? true : false; <FONT COLOR="#009900">//define social pressure on share of people married, as in the original, or on share of people with children.</FONT></TT>
<BR><TT>double pocm = 0.0;</TT>
<BR><TT>double total = 0.0;</TT>
<BR><TT>double age_low = POP_AGE - V("<A HREF="#_d_ro_a_low">ro_a_low</A>"); <FONT COLOR="#009900">//relevant others minimum age</FONT></TT>
<BR><TT>double age_high = POP_AGE - V("<A HREF="#_d_ro_a_high">ro_a_high</A>");</TT>
<BR><TT>double rho = V("<A HREF="#_d_rho_WD">rho_WD</A>"); <FONT COLOR="#009900">//chance to take</FONT></TT>
<BR><TT></TT>
<BR><TT><FONT COLOR="#009900">//In a first step, calculate size of set of relevant others</FONT></TT>
<BR><TT>FCYCLE_NEIGHBOUR(cur, "<A HREF="#_d_Agent">Agent</A>", V("<A HREF="#_d_distance_wd">distance_wd</A>"))   <FONT COLOR="#009900">//first check distance</FONT></TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if ( POP_AGES(cur) &lt; age_low   <FONT COLOR="#009900">//skip if to young</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| POP_AGES(cur) &gt; age_high <FONT COLOR="#009900">//skip if to old</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| rho &gt; RND ) { <FONT COLOR="#009900">//skip by chance</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue; <FONT COLOR="#009900">//skip</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;total++;</TT>
<BR><TT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (alt_model) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( POP_NCHILDRENS(cur) &gt; 0 )</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pocm++;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if ( VS(cur, "<A HREF="#_d_Partner_Status">Partner_Status</A>") == 1.0 )</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pocm++;</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>}</TT>
<BR><TT></TT>
<BR><TT>double beta = 7.0; <FONT COLOR="#009900">//V("beta_WR");</FONT></TT>
<BR><TT>double alpha = 0.5;<FONT COLOR="#009900">// V("alpha_WR");</FONT></TT>
<BR><TT>double temp = exp(beta * (pocm - alpha));</TT>
<BR><TT>double sp = temp / (1 + temp);</TT>
<BR><TT></TT>
<BR><TT>RESULT(sp)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_Partner_Status"><H4>Variable: &nbsp;<TT><U>Partner_Status</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Social_Pressure">Social_Pressure</A></TT><BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_PartnerID">PartnerID</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Partner_Status")
</TT><BR><TT><FONT COLOR="#009900">/* Is there currently a partner? 0: No, 1: Yes. Also check if partner is dead. */</FONT></TT>
<BR><TT>double has_partner = 0.0; <FONT COLOR="#009900">//no partner yet</FONT></TT>
<BR><TT>double partner_id = V("<A HREF="#_d_PartnerID">PartnerID</A>");</TT>
<BR><TT>if (partner_id &gt;= 0)</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;object* Partner = SEARCH_UID(partner_id);</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;if (Partner == NULL) {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;has_partner = -1.0; <FONT COLOR="#009900">//partner dead</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;else {</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;has_partner = 1.0; <FONT COLOR="#009900">//partner alive</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;}</TT>
<BR><TT>}</TT>
<BR><TT>RESULT(has_partner)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_Potential_Partner"><H4>Function: &nbsp;<TT><U>Potential_Partner</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I>(never used)<BR>
<I>Using: &nbsp;</I><TT><A HREF="#_d_psearch_radius">psearch_radius</A></TT><TT>, <A HREF="#_d_age_accept_low">age_accept_low</A></TT><TT>, <A HREF="#_d_age_accept_high">age_accept_high</A></TT><BR>
<BR><I>Equation code:</I><BR>
<BR>
<TT>EQUATION("Potential_Partner")
</TT><BR><TT><FONT COLOR="#009900">/* This is a function that reports to the caller if the callee is a suitable match, which implies also that the callee finds the caller suitable. */</FONT></TT>
<BR><TT>double is_match = 0.0; <FONT COLOR="#009900">//no</FONT></TT>
<BR><TT>double distance = DISTANCE(c);</TT>
<BR><TT>if ( POP_FEMALE != POP_FEMALES(c) <FONT COLOR="#009900">//different sex</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&& distance &lt; V("<A HREF="#_d_psearch_radius">psearch_radius</A>")  <FONT COLOR="#009900">//within social/spatial range</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&& distance &lt; VS(c, "<A HREF="#_d_psearch_radius">psearch_radius</A>")</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&& V("<A HREF="#_d_age_accept_low">age_accept_low</A>") &lt;= POP_AGES(c) <FONT COLOR="#009900">//within age range</FONT></TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&& POP_AGES(c) &lt;= V("<A HREF="#_d_age_accept_high">age_accept_high</A>")</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&& VS(c, "<A HREF="#_d_age_accept_low">age_accept_low</A>") &lt;= POP_AGE</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&& POP_AGE &lt;= VS(c, "<A HREF="#_d_age_accept_high">age_accept_high</A>") )</TT>
<BR><TT>{</TT>
<BR><TT>&nbsp;&nbsp;&nbsp;&nbsp;is_match = 1.0;</TT>
<BR><TT>}</TT>
<BR><TT>RESULT(is_match)</TT>
</FONT><BR><BR>
<HR WIDTH="100%">
<A NAME="_d_PartnerID"><H4>Parameter: &nbsp;<TT><U>PartnerID</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Partner_Status">Partner_Status</A></TT><BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_ro_a_high"><H4>Parameter: &nbsp;<TT><U>ro_a_high</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Init_Agent">Init_Agent</A></TT><TT>, <A HREF="#_d_Social_Pressure">Social_Pressure</A></TT><BR>
<BR>
<HR WIDTH="100%">
<A NAME="_d_ro_a_low"><H4>Parameter: &nbsp;<TT><U>ro_a_low</U></TT></H4></A><I>Contained in: &nbsp;</I><A HREF="#Agent"><TT>Agent</TT></A><BR><I>Used in: &nbsp;</I><TT><A HREF="#_d_Init_Agent">Init_Agent</A></TT><TT>, <A HREF="#_d_Social_Pressure">Social_Pressure</A></TT><BR>
<BR>
</BODY> </HTML>